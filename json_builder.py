import json


# Makes default json template
def add_action_RLE_json(filename, step_id, name, target, cmd, expect):
    f = open(filename)
    try:
        data = json.load(f)
    except ValueError:
        data = {"actions": [{
            "step_id": step_id,
            "action_name": name,
            "target": target,
            "command": cmd,
            "value_expected": expect,
            "final_bool": 'NULL'
        }]}
    else:
        data['actions'].append({
            "step_id": step_id,
            "action_name": name,
            "target": target,
            "command": cmd,
            "value_expected": expect,
            "final_bool": 'NULL'
        })
    finally:
        with open(filename, "w") as outfile:
            outfile.write(json.dumps(data, indent=4))
