import json


# Makes default json template
def add_action_RLE_json(step_id, name, target, cmd, expect):
    print("Add action")
    f = open("Input/commands.json")
    try:
        data = json.load(f)
    except ValueError:
        data = {"actions": [{
            "step_id": step_id,
            "action_name": name,
            "target": target,
            "command": cmd,
            "value_expected": expect}]}
        print(data)
    else:
        data['actions'].append({
            "step_id": step_id,
            "action_name": name,
            "target": target,
            "command": cmd,
            "value_expected": expect})
    finally:
        with open("Input/commands.json", "w") as outfile:
            outfile.write(json.dumps(data, indent=4))
